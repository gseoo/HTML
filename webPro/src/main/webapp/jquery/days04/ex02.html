<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Insert title here</title>
<link rel="shortcut icon" href="http://localhost/webPro/images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<link rel="stylesheet" href="/webPro/resources/cdn-main/example.css">
<script src="/webPro/resources/cdn-main/example.js"></script>
<style>
	span.material-symbols-outlined{
		vertical-align: text-bottom;
 	}
</style>
<style>
	table, th, td {
		border: 1px solid gray;
	}

	table#tblDept {
		width: 50%;
		margin: 0 auto;
	}
</style>
</head>
<body>
	<header>
  		<h1 class="main">
    		<a href="#">GyeongSeo Home</a>
  		</h1>
  		<ul>
  			<li><a href="#">로그인</a></li>
  			<li><a href="#">회원가입</a></li>
  		</ul>
	</header>
	<h3>
		<span class="material-symbols-outlined">view_list</span>
		javascript days00
	</h3>
	<div>
  		<xmp class="code">
    		
  		</xmp>

		<!-- table>(thead>tr>td*3)+(tbody>tr*4>td*3>lorem1)+(tfoot>td>button>{선택 확인}) -->
		<table id="tblDept">
			<thead>
				<tr>
					<th><input type="checkbox" class="all">모두 선택</th>
					<th>Name</th>
					<th>Loc</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><input type="checkbox" id="ck1"></td>
					<td>Impedit.</td>
					<td>At.</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck2"></td>
					<td>Temporibus?</td>
					<td>Hic?</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck3"></td>
					<td>Ut!</td>
					<td>Quam.</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck4"></td>
					<td>Atque.</td>
					<td>Aliquid!</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="3" align="center">
						<button>선택 확인</button>
					</td>
				</tr>
			</tfoot>
		</table>

		<!-- 선택 확인 버튼을 클릭하면 체크된 체크박스의 id 속성을 p#demo에 출력 -->
		<p id="demo"></p>

	</div>
	
	<script>
		$(":checkbox.all").click(function(event) {
			//$("tbody :checkbox")
			//$(":checkbox[id^=ck]")
			$(":checkbox:not(.all)").prop("checked", $(this).prop("checked"));
			
			$(":checkbox:not(.all)").click(function(event) {
				let count = $(":checkbox:not(.all)").length;
				let checkedCount = $(":checkbox:not(.all):checked").length;
				$(":checkbox.all").prop("checked", checkedCount == count ? true : false);
			});
		});
	</script>
	<script>
		$("tfoot button").click(function(event) {
			let id, name, loc;
			$("p#demo").html("");
			
			$("tbody :checkbox:checked").each(function(i, element) {
				id = element.id;
				name = element.parentElement.parentElement.children[1].innerHTML;
				loc = element.parentElement.parentElement.children[2].innerHTML;
				
				
				$("p#demo").html(function(index,oldhtml){
					return oldhtml + `<li>${id} / ${name} / ${loc}</li>`;
				});
			});
		});
	</script>
</body>
</html>