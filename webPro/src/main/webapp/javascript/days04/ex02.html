<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Insert title here</title>
<link rel="shortcut icon" href="http://localhost/webPro/images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<link rel="stylesheet" href="/webPro/resources/cdn-main/example.css">
<script src="/webPro/resources/cdn-main/example.js"></script>
<style>
	span.material-symbols-outlined{
		vertical-align: text-bottom;
 	}
</style>
<style>
	table, th, td {
		border: 1px solid gray;
	}

	table#tblDept {
		width: 50%;
		margin: 0 auto;
	}
</style>
</head>
<body>
	<header>
  		<h1 class="main">
    		<a href="#">GyeongSeo Home</a>
  		</h1>
  		<ul>
  			<li><a href="#">로그인</a></li>
  			<li><a href="#">회원가입</a></li>
  		</ul>
	</header>
	<h3>
		<span class="material-symbols-outlined">view_list</span>
		javascript days00
	</h3>
	<div>
  		<xmp class="code">
    		
  		</xmp>

		<!-- table>(thead>tr>td*3)+(tbody>tr*4>td*3>lorem1)+(tfoot>td>button>{선택 확인}) -->
		<table id="tblDept">
			<thead>
				<tr>
					<th><input type="checkbox" class="all">모두 선택</th>
					<th>Name</th>
					<th>Loc</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><input type="checkbox" id="ck1"></td>
					<td>Impedit.</td>
					<td>At.</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck2"></td>
					<td>Temporibus?</td>
					<td>Hic?</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck3"></td>
					<td>Ut!</td>
					<td>Quam.</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck4"></td>
					<td>Atque.</td>
					<td>Aliquid!</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="3" align="center">
						<button>선택 확인</button>
					</td>
				</tr>
			</tfoot>
		</table>

		<p id="demo"></p>

	</div>
	
	<script>
		let all = document.querySelector(".all");
		let ckbs = document.querySelectorAll("td input[type=checkbox]");

		all.onclick = function() {
			for(var i=0; i<ckbs.length; i++) {
			ckbs[i].checked = this.checked;
			}
		};

		// ckbs 모든 체크박스의 click 이벤트 등록
		for(var i=0; i<ckbs.length; i++) {
			ckbs[i].onclick = function() {
				// 모든 체크박스가 chekced면 all도 checked로 바꿈
				let isckbsAllChecked = true;
				for(var j=0; j<ckbs.length; j++) {
					isckbsAllChecked = ckbs[j].checked;
					if(!isckbsAllChecked) break;
				}
				all.checked = isckbsAllChecked;
			};
		}
		
		let pdemo = document.querySelector("p#demo");
		document.querySelector("tfoot button").onclick = function() {
			let id, name, loc;
			let content = "<ul>";
			for(var i=0; i<ckbs.length; i++) {
				if(ckbs[i].checked) {
					id = ckbs[i].id;
					
					name = ckbs[i].parentElement.nextElementSibling.innerHTML;
					//name = ckbs[i].parentElement.parentElement.children[1].innerHTML;
					loc = ckbs[i].parentElement.parentElement.children[2].innerHTML;
					
					content += `<li>${id} / ${name} / ${loc}</li>`;
				}
			}
			content += "</ul>";
			pdemo.innerHTML = content;
		}
	</script>
</body>
</html>